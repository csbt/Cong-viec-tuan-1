#Mô hình OSI
Mô hình mạng mà Windows và hầu hết các hệ điều hành mạng khác sử dụng được gọi là mô hình OSI. Thuật ngữ OSI được viết tắt bởi cụm từ tiếng Anh Open System Interconnection Basic Reference. Mô hình này gồm có bảy lớp khác nhau. Mỗi một lớp trong mô hình này được thiết kế để có thể thực hiện một nhiệm vụ cụ thể và làm thuận tiện cho việc truyền thông giữa lớp trên và lớp dưới nó.

<a href="http://imgur.com/qOexPtk"><img src="http://i.imgur.com/qOexPtk.jpg?1" title="source: imgur.com" /></a>

|   | Mô Hình OSI 7 Tầng |      Ý nghĩa các tầng           | Data Unit |
|---|--------------------|---------------------------------|-----------|
| 7 | Application | Các quá trình giao tiếp với các ứng dụng | Data |
| 6 | Presentation | Biểu diễn dữ liệu | Data |
| 5 | Session | Thông tin liên host | Data |
| 4 | Transport | Kết thúc từ đầu cuối đến đầu cuối | Segments |
| 3 | Network | Định địa chỉ và chọn đường dẫn tốt nhất | Packets |
| 2 | Data Link | Truy xuất môi trường truyền | Frames |
| 1 | Physical | Truyền dẫn nhị phân | Bits |
Mô hình OSI phân chia chức năng của một giao thức ra thành một chuỗi các tầng cấp. Mỗi một tầng cấp có một đặc tính là nó chỉ sử dụng chức năng của tầng dưới nó, đồng thời chỉ cho phép tầng trên sử dụng các chức năng của mình. Một hệ thống cài đặt các giao thức bao gồm một chuỗi các tầng nói trên được gọi là "chồng giao thức" (protocol stack). Chồng giao thức có thể được cài đặt trên phần cứng, hoặc phần mềm, hoặc là tổ hợp của cả hai. Thông thường thì chỉ có những tầng thấp hơn là được cài đặt trong phần cứng, còn những tầng khác được cài đặt trong phần mềm.
##Các tầng trong mô hình OSI

###Tầng1: *Tầng vật lí (Physical Player)*
**Tầng vật lý** định nghĩa tất cả các đặc tả về điện và vật lý cho các thiết bị. Trong đó bao gồm bố trí của các chân cắm (pin), các hiệu điện thế, và các đặc tả về cáp nối (cable). Các thiết bị tầng vật lý bao gồm Hub, bộ lặp (repeater), thiết bị tiếp hợp mạng (network adapter) và thiết bị tiếp hợp kênh máy chủ (Host Bus Adapter)- (HBA dùng trong mạng lưu trữ (Storage Area Network)). Chức năng và dịch vụ căn bản được thực hiện bởi tầng vật lý bao gồm:
- <ul>Thiết lập hoặc ngắt mạch kết nối điện (electrical connection) với một môi trường truyền dẫn phương tiện truyền thông (transmission medium).</ul>

- <ul>Tham gia vào quy trình mà trong đó các tài nguyên truyền thông được chia sẻ hiệu quả giữa nhiều người dùng. Chẳng hạn giải quyết tranh chấp tài nguyên (contention) và điều khiển lưu lượng.</ul>

- <ul>Điều chế (modulation), hoặc biến đổi giữa biểu diễn dữ liệu số (digital data) của các thiết bị người dùng và các tín hiệu tương ứng được truyền qua kênh truyền thông (communication channel).</ul>

###Tầng2: *Tầng liên kết dữ liệu (Data Link Layer)*
**Tầng liên kết dữ liệu** cung cấp các phương tiện có tính chức năng và quy trình để truyền dữ liệu giữa các thực thể mạng, phát hiện và có thể sửa chữa các lỗi trong tầng vật lý nếu có. Cách đánh địa chỉ mang tính vật lý, nghĩa là địa chỉ (địa chỉ MAC) được mã hóa cứng vào trong các thẻ mạng (network card) khi chúng được sản xuất. Hệ thống xác định địa chỉ này không có đẳng cấp (flat scheme). Chú ý: Ví dụ điển hình nhất là [Ethernet](https://vi.wikipedia.org/wiki/Ethernet). Những ví dụ khác về các giao thức liên kết dữ liệu (data link protocol) là các giao thức HDLC; ADCCP dành cho các mạng điểm-tới-điểm hoặc mạng chuyển mạch gói (packet-switched networks) và giao thức Aloha cho các mạng cục bộ. Trong các mạng cục bộ theo tiêu chuẩn [IEEE 802](https://vi.wikipedia.org/wiki/IEEE_802), và một số mạng theo tiêu chuẩn khác, chẳng hạn FDDI, tầng liên kết dữ liệu có thể được chia ra thành 2 tầng con: tầng MAC (Media Access Control - Điều khiển Truy nhập Đường truyền) và tầng LLC (Logical Link Control - Điều khiển Liên kết Lôgic) theo tiêu chuẩn [IEEE 802.2](https://vi.wikipedia.org/w/index.php?title=IEEE_802.2&action=edit&redlink=1).

**Tầng liên kết dữ liệu** chính là nơi và các thiết bị chuyển mạch ([switches](https://vi.wikipedia.org/wiki/Switch)) hoạt động. Kết nối chỉ được cung cấp giữa các nút mạng được nối với nhau trong nội bộ mạng. Tuy nhiên, có lập luận khá hợp lý cho rằng thực ra các thiết bị này thuộc về tầng 2,5 chứ không hoàn toàn thuộc về tầng 2.
###Tầng 3: *Tầng mạng (Network Layer)*
**Tầng mạng** cung cấp các chức năng và qui trình cho việc truyền các chuỗi dữ liệu có độ dài đa dạng, từ một nguồn tới một đích, thông qua một hoặc nhiều mạng, trong khi vẫn duy trì chất lượng dịch vụ (quality of service) mà tầng giao vận yêu cầu. Tầng mạng thực hiện chức năng định tuyến,.Các thiết bị định tuyến ([router](https://vi.wikipedia.org/wiki/Router)) hoạt động tại tầng này — gửi dữ liệu ra khắp mạng mở rộng, làm cho liên mạng trở nên khả thi (còn có thiết bị chuyển mạch (switch) tầng 3, còn gọi là chuyển mạch IP). Đây là một hệ thống định vị địa chỉ lôgic (logical addressing scheme) – các giá trị được chọn bởi kỹ sư mạng. Hệ thống này có cấu trúc phả hệ. Ví dụ điển hình của giao thức tầng 3 là [giao thức IP](https://vi.wikipedia.org/wiki/IP).
###Tầng 4: *Tầng giao vận (Transport Layer)*
**Tầng giao vận** cung cấp dịch vụ chuyên dụng chuyển dữ liệu giữa các người dùng tại đầu cuối, nhờ đó các tầng trên không phải quan tâm đến việc cung cấp dịch vụ truyền dữ liệu đáng tin cậy và hiệu quả. Tầng giao vận kiểm soát độ tin cậy của một kết nối được cho trước. Một số giao thức có định hướng trạng thái và kết nối (state and connection orientated). Có nghĩa là tầng giao vận có thể theo dõi các gói tin và truyền lại các gói bị thất bại. Một ví dụ điển hình của giao thức tầng 4 là TCP. Tầng này là nơi các thông điệp được chuyển sang thành các gói tin [TCP hoặc UDP](https://vi.wikipedia.org/wiki/UDP). Ở tầng 4 địa chỉ được đánh là address ports, thông qua address ports để phân biệt được ứng dụng trao đổi.
###Tầng 5: *Tầng phiên (Session layer)*
**Tầng phiên* kiểm soát các (phiên) hội thoại giữa các máy tính. Tầng này thiết lập, quản lý và kết thúc các kết nối giữa trình ứng dụng địa phương và trình ứng dụng ở xa. Tầng này còn hỗ trợ hoạt động song công (duplex) hoặc bán song công (half-duplex) hoặc đơn công (Single) và thiết lập các qui trình đánh dấu điểm hoàn thành (checkpointing) - giúp việc phục hồi truyền thông nhanh hơn khi có lỗi xảy ra, vì điểm đã hoàn thành đã được đánh dấu - trì hoãn (adjournment), kết thúc (termination) và khởi động lại (restart). Mô hình OSI uỷ nhiệm cho tầng này trách nhiệm "ngắt mạch nhẹ nhàng" (graceful close) các phiên giao dịch (một tính chất của giao thức kiểm soát giao vận TCP) và trách nhiệm kiểm tra và phục hồi phiên, đây là phần thường không được dùng đến trong bộ giao thức TCP/IP.
###Tầng 6: *Tầng trình diễn (Presentation layer)*
**Lớp trình diễn** hoạt động như tầng dữ liệu trên mạng. lớp này trên máy tính truyền dữ liệu làm nhiệm vụ dịch dữ liệu được gửi từ tầng Application sang dạng Fomat chung. Và tại máy tính nhận, lớp này lại chuyển từ Fomat chung sang định dạng của tầng Application. Lớp thể hiện thực hiện các chức năng sau: - Dịch các mã kí tự từ ASCII sang EBCDIC. - Chuyển đổi dữ liệu, ví dụ từ số interger sang số dấu phảy động. - Nén dữ liệu để giảm lượng dữ liệu truyền trên mạng. - Mã hoá và giải mã dữ liệu để đảm bảo sự bảo mật trên mạng.
###Tầng 7: *Tầng ứng dụng (Application layer)*
**Tầng ứng dụng** là tầng gần với người sử dụng nhất. Nó cung cấp phương tiện cho người dùng truy nhập các thông tin và dữ liệu trên mạng thông qua chương trình ứng dụng. Tầng này là giao diện chính để người dùng tương tác với chương trình ứng dụng, và qua đó với mạng. Một số ví dụ về các ứng dụng trong tầng này bao gồm [Telnet](https://vi.wikipedia.org/wiki/Telnet), Giao thức truyền tập tin [FTP](https://vi.wikipedia.org/wiki/FTP) và Giao thức truyền thư điện tử [SMTP](https://vi.wikipedia.org/wiki/SMTP), [HTTP](https://vi.wikipedia.org/wiki/Hypertext_Transfer_Protocol), [X.400 Mail](https://vi.wikipedia.org/w/index.php?title=X.400_Mail&action=edit&redlink=1) remote
##Cơ chế làm việc
Mỗi lớp chỉ nói chuyện được với lớp trên và lớp dưới kế với nó . Khi máy tính của bạn đang truyền dữ liệu , luồng thông tin là xuất phát từ chương trình tới mạng ( có nghĩa là đường dữ liệu đi từ đỉnh tới đáy ) , do đó chương trình nói chuyện với lớp thứ bảy , tiếp theo truyền tới lớp thứ sáu và cứ như vậy . Khi máy tính của chúng ta đang nhận dữ liệu , thì luồng thông tin sẽ từ mạng tới chương trình ( có nghĩa là đường dữ liệu sẽ từ đáy đi tới đỉnh ) , do đó mạng sẽ nói chuyện với lớp thứ nhất sau đó truyền tới lớp thứ hai và cứ như vậy .
Khi dữ liệu được truyền , mỗi lớp thêm một vài thông tin điều khiển tới dữ liệu mà nó được nhận từ lớp trên , và khi dữ liệu được nhận thì quá trình xảy ra ngược lại ; mỗi lớp sẽ gỡ những thông tin điều khiển từ dữ liệu nhận được từ lớp bên dưới .
Do vậy khi dữ liệu được gửi tới mạng , lớp thứ bảy nhận dữ liệu do chương trình gửi tới và thêm những thông tin điều khiển của riêng nó và gửi gói dữ liệu mới này tới lớp thứ sáu . Lớp thứ sáu sẽ thêm dữ liệu điều khiển riêng của nó vào gói dữ liệu đã nhận được ở lớp thứ bảy và gửi gói dữ liệu sau khi thêm dữ liệu điều khiển tới lớp thứ năm . Như vậy lớp thứ năm nhận được dữ liệu lúc này là dữ liệu ban đầu đã được thêm những thông tin điều khiển dữ liệu của lớp thứ bảy và lớp thứ sáu  . Và cứ như vậy . Khi nhận dữ liệu quá trình diễn ra ngược lại , mỗi lớp sẽ gỡ dữ liệu điều khiển của nó khỏi dữ liệu nhận được .
Mỗi lớp chỉ hiểu dữ liệu điều khiển mà nó nhận trách nhiệm . Khi lớp nhận dữ liệu từ lớp trên nó không hiểu dữ liệu điều khiển được thêm vào từ lớp trên , do đó nó chỉ hiểu dữ liệu mà nó nhận được chỉ là một gói dữ liệu đơn lẻ .
Trong hình dưới đây mô tả cho chúng ta thấy thấy khi máy tính gửi dữ liệu đi như thế nào tới mạng . Mỗi số thêm vào tới dữ liệu ban đầu đại diện cho dữ liệu điều khiển được thêm vào từ lớp đó . Mỗi lớp xử lí gói mà nó nhận được từ lớp trên như là một gói dữ liệu đơn lẻ mà nó không cần phân biệt dữ liệu trong đó gồm những gì.
<a href="http://imgur.com/efXr3uZ"><img src="http://i.imgur.com/efXr3uZ.gif" title="source: imgur.com" /></a>

Chúng ta cũng có thể nói rằng mỗi lớp của máy tính truyền sẽ nói chuyện trực tiếp với cùng lớp của máy tính nhận . Ví dụ : lớp thứ tư của máy nhận dữ liệu sẽ nói chuyện trực tiếp tới lớp thứ tư của máy truyền dữ liệu  . Chúng có có thể nói được như vậy bởi vì dữ liệu điều khiển được thêm vào từ mỗi lớp thì chỉ có cùng lớp của máy nhận mới có thể hiểu được.
